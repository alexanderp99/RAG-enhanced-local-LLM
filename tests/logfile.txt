##teamcity[enteredTheMatrix timestamp='2024-10-17T10:53:20.921']
Launching unittests with arguments python -m unittest test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability in C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests

##teamcity[testCount timestamp='2024-10-17T10:53:26.260' count='1']
##teamcity[testSuiteStarted timestamp='2024-10-17T10:53:26.261' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent' name='test_MultiAgent' nodeId='1' parentNodeId='0']
##teamcity[testSuiteStarted timestamp='2024-10-17T10:53:26.261' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase' name='TestVectorDatabase' nodeId='2' parentNodeId='1']
##teamcity[testStarted timestamp='2024-10-17T10:53:26.261' captureStandardOutput='true' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' name='test_multiple_question_answer_ability' nodeId='3' parentNodeId='2']
2024-10-17 10:53:28,123 - datasets - INFO - PyTorch version 2.2.2 available.
2024-10-17 10:53:28,268 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2024-10-17 10:53:30,407 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2024-10-17 10:53:30,523 - chromadb.api.segment - DEBUG - Collection langchain already exists, returning existing collection.
##teamcity[testStdErr timestamp='2024-10-17T10:53:30.859' flowId='test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' name='test_multiple_question_answer_ability' nodeId='3' out='C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\flashrank\Ranker.py:115: ResourceWarning: unclosed file <_io.TextIOWrapper name=|'\\ranker\\ms-marco-MiniLM-L-12-v2\\config.json|' mode=|'r|' encoding=|'cp1252|'>|n  config = json.load(open(str(self.model_dir / "config.json")))|nResourceWarning: Enable tracemalloc to get the object allocation traceback|n' parentNodeId='2']
##teamcity[testStdErr timestamp='2024-10-17T10:53:30.860' flowId='test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' name='test_multiple_question_answer_ability' nodeId='3' out='C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\flashrank\Ranker.py:116: ResourceWarning: unclosed file <_io.TextIOWrapper name=|'\\ranker\\ms-marco-MiniLM-L-12-v2\\tokenizer_config.json|' mode=|'r|' encoding=|'cp1252|'>|n  tokenizer_config = json.load(open(str(self.model_dir / "tokenizer_config.json")))|nResourceWarning: Enable tracemalloc to get the object allocation traceback|n' parentNodeId='2']
##teamcity[testStdErr timestamp='2024-10-17T10:53:30.860' flowId='test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' name='test_multiple_question_answer_ability' nodeId='3' out='C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\flashrank\Ranker.py:117: ResourceWarning: unclosed file <_io.TextIOWrapper name=|'\\ranker\\ms-marco-MiniLM-L-12-v2\\special_tokens_map.json|' mode=|'r|' encoding=|'cp1252|'>|n  tokens_map = json.load(open(str(self.model_dir / "special_tokens_map.json")))|nResourceWarning: Enable tracemalloc to get the object allocation traceback|n' parentNodeId='2']
2024-10-17 10:53:36,133 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:10,805 - test_MultiAgent - DEBUG - Question: Is there a car rental?
2024-10-17 10:54:10,805 - test_MultiAgent - DEBUG - Fact: There is a car rental.
2024-10-17 10:54:10,805 - test_MultiAgent - DEBUG - Answer: Yes, there is a car rental available. According to the DOCUMENT, it's possible to rent "Grashoppers" (Bio-Gas-Car 0.1 cent/km) or Smile-E (Electric-Car) BMWs. Additionally, for WERFENWENG-CARD holders, the rental is free.
2024-10-17 10:54:10,805 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:54:10.805' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Is there a car rental?|', |'fact|': |'There is a car rental_|'})' nodeId='4' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:54:10.805' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Is there a car rental?|', |'fact|': |'There is a car rental_|'})' nodeId='4' parentNodeId='3']
2024-10-17 10:54:12,207 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:32,077 - test_MultiAgent - DEBUG - Question: Which numbers can i call in case of an emergency?
2024-10-17 10:54:32,077 - test_MultiAgent - DEBUG - Fact: You can call: 112 International Emergency Call, 122 Fire Service, 133 Police, 140 Alpine-Emergency Call, 141 Doctor-Emergency Service, 144 Ambulance
2024-10-17 10:54:32,077 - test_MultiAgent - DEBUG - Answer: According to the DOCUMENT, you can call:

* 112 for International Emergency Call (even without a SIM card)
* 122 for Fire Service
* 133 for Police
* 140 for Alpine-Emergency Call
* 141 for Doctor-Emergency Service
* 144 for Ambulance
2024-10-17 10:54:32,077 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:54:32.077' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Which numbers can i call in case of an emergency?|', |'fact|': |'You can call: 112 International Emergency Call, 122 Fire Service, 133 Police, 140 Alpine-Emergency Call, 141 Doctor-Emergency Service, 144 Ambulance|'})' nodeId='5' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:54:32.077' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Which numbers can i call in case of an emergency?|', |'fact|': |'You can call: 112 International Emergency Call, 122 Fire Service, 133 Police, 140 Alpine-Emergency Call, 141 Doctor-Emergency Service, 144 Ambulance|'})' nodeId='5' parentNodeId='3']
2024-10-17 10:54:33,521 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:42,876 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:44,234 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:46,518 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:49,799 - rquest.connect - DEBUG - starting new connection: https://duckduckgo.com/
2024-10-17 10:54:50,196 - primp - INFO - response: https://duckduckgo.com/ 202 13338
2024-10-17 10:54:50,196 - duckduckgo_search.DDGS - DEBUG - _get_url() https://duckduckgo.com/ 202 13338
##teamcity[testStarted timestamp='2024-10-17T10:54:50.283' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'How does the breakfast work?|', |'fact|': |'The BIO-breakfast basket will be delivered to the door at approximately 8 am the morning after your arrival_ |'})' nodeId='6' parentNodeId='3']
##teamcity[testStdErr timestamp='2024-10-17T10:54:50.293' flowId='test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' name='test_multiple_question_answer_ability' nodeId='6' out='SubTest error: Traceback (most recent call last):|n  File "C:\Users\alexp\AppData\Local\Programs\Python\Python311\Lib\unittest\case.py", line 57, in testPartExecutor|n    yield|n  File "C:\Users\alexp\AppData\Local\Programs\Python\Python311\Lib\unittest\case.py", line 538, in subTest|n    yield|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests\test_MultiAgent.py", line 111, in test_multiple_question_answer_ability|n    self._check_single_question_answer_ability(|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests\test_MultiAgent.py", line 50, in _check_single_question_answer_ability|n    result: BaseMessage = self.agent.run(inputs)|n                          ^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\src\LanggraphLLM.py", line 424, in run|n    resulted_agent_state: dict|[str, Any|] || Any = self.graph.invoke(inputs, self.config)|n                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\__init__.py", line 1560, in invoke|n    for chunk in self.stream(|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\__init__.py", line 1298, in stream|n    for _ in runner.tick(|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\runner.py", line 56, in tick|n    run_with_retry(t, retry_policy)|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\retry.py", line 29, in run_with_retry|n    task.proc.invoke(task.input, config)|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\utils\runnable.py", line 409, in invoke|n    input = context.run(step.invoke, input, config, **kwargs)|n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\utils\runnable.py", line 183, in invoke|n    ret = context.run(self.func, input, **kwargs)|n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\src\LanggraphLLM.py", line 263, in retrieve_web_knowledge|n    web_reponse = DuckDuckGoSearchResults().run(query)|n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_core\tools\base.py", line 684, in run|n    raise error_to_raise|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_core\tools\base.py", line 653, in run|n    response = context.run(self._run, *tool_args, **tool_kwargs)|n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_community\tools\ddg_search\tool.py", line 103, in _run|n    res = self.api_wrapper.results(query, self.max_results, source=self.backend)|n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_community\utilities\duckduckgo_search.py", line 127, in results|n    for r in self._ddgs_text(query, max_results=max_results)|n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_community\utilities\duckduckgo_search.py", line 64, in _ddgs_text|n    ddgs_gen = ddgs.text(|n               ^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 240, in text|n    results = self._text_api(keywords, region, safesearch, timelimit, max_results)|n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 274, in _text_api|n    vqd = self._get_vqd(keywords)|n          ^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 135, in _get_vqd|n    resp_content = self._get_url("POST", "https://duckduckgo.com", data={"q": keywords})|n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 130, in _get_url|n    raise RatelimitException(f"{resp.url} {resp.status_code} Ratelimit")|nduckduckgo_search.exceptions.RatelimitException: https://duckduckgo.com/ 202 Ratelimit|n|n' parentNodeId='3']
##teamcity[testFailed timestamp='2024-10-17T10:54:50.297' details='' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' message='' name='(case={|'question|': |'How does the breakfast work?|', |'fact|': |'The BIO-breakfast basket will be delivered to the door at approximately 8 am the morning after your arrival_ |'})' nodeId='6' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:54:50.297' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'How does the breakfast work?|', |'fact|': |'The BIO-breakfast basket will be delivered to the door at approximately 8 am the morning after your arrival_ |'})' nodeId='6' parentNodeId='3']
2024-10-17 10:54:52,186 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:53,787 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:54:56,578 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:55:01,007 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:55:03,816 - rquest.connect - DEBUG - starting new connection: https://duckduckgo.com/
2024-10-17 10:55:04,189 - primp - INFO - response: https://duckduckgo.com/ 202 13585
2024-10-17 10:55:04,189 - duckduckgo_search.DDGS - DEBUG - _get_url() https://duckduckgo.com/ 202 13585
##teamcity[testStarted timestamp='2024-10-17T10:55:04.190' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'How does the breakfast service work? is it for free?|', |'fact|': |'Your BIO-breakfast basket will be delivered to your door at approximately 8 am the morning after your arrival_ Your basket includes cereals, fresh juice, fresh farm eggs, cold meat, fruit of the season, cheese, butter, milk, herbal tea, drinking chocolate & homemade jam_ Order your bread and refillss for the following day before 11am online  in my_oha_at_ Most of the products are from the local farmer´s market_ Please be sure to visit so you can take some of their fresh products home with you_ The breakfast is NOT free_|'})' nodeId='7' parentNodeId='3']
##teamcity[testStdErr timestamp='2024-10-17T10:55:04.191' flowId='test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' name='test_multiple_question_answer_ability' nodeId='7' out='SubTest error: Traceback (most recent call last):|n  File "C:\Users\alexp\AppData\Local\Programs\Python\Python311\Lib\unittest\case.py", line 57, in testPartExecutor|n    yield|n  File "C:\Users\alexp\AppData\Local\Programs\Python\Python311\Lib\unittest\case.py", line 538, in subTest|n    yield|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests\test_MultiAgent.py", line 111, in test_multiple_question_answer_ability|n    self._check_single_question_answer_ability(|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests\test_MultiAgent.py", line 50, in _check_single_question_answer_ability|n    result: BaseMessage = self.agent.run(inputs)|n                          ^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\src\LanggraphLLM.py", line 424, in run|n    resulted_agent_state: dict|[str, Any|] || Any = self.graph.invoke(inputs, self.config)|n                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\__init__.py", line 1560, in invoke|n    for chunk in self.stream(|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\__init__.py", line 1298, in stream|n    for _ in runner.tick(|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\runner.py", line 56, in tick|n    run_with_retry(t, retry_policy)|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\pregel\retry.py", line 29, in run_with_retry|n    task.proc.invoke(task.input, config)|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\utils\runnable.py", line 409, in invoke|n    input = context.run(step.invoke, input, config, **kwargs)|n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langgraph\utils\runnable.py", line 183, in invoke|n    ret = context.run(self.func, input, **kwargs)|n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\src\LanggraphLLM.py", line 263, in retrieve_web_knowledge|n    web_reponse = DuckDuckGoSearchResults().run(query)|n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_core\tools\base.py", line 684, in run|n    raise error_to_raise|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_core\tools\base.py", line 653, in run|n    response = context.run(self._run, *tool_args, **tool_kwargs)|n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_community\tools\ddg_search\tool.py", line 103, in _run|n    res = self.api_wrapper.results(query, self.max_results, source=self.backend)|n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_community\utilities\duckduckgo_search.py", line 127, in results|n    for r in self._ddgs_text(query, max_results=max_results)|n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\langchain_community\utilities\duckduckgo_search.py", line 64, in _ddgs_text|n    ddgs_gen = ddgs.text(|n               ^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 240, in text|n    results = self._text_api(keywords, region, safesearch, timelimit, max_results)|n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 274, in _text_api|n    vqd = self._get_vqd(keywords)|n          ^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 135, in _get_vqd|n    resp_content = self._get_url("POST", "https://duckduckgo.com", data={"q": keywords})|n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|n  File "C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\.venv311\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 130, in _get_url|n    raise RatelimitException(f"{resp.url} {resp.status_code} Ratelimit")|nduckduckgo_search.exceptions.RatelimitException: https://duckduckgo.com/ 202 Ratelimit|n|n' parentNodeId='3']
##teamcity[testFailed timestamp='2024-10-17T10:55:04.194' details='' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' message='' name='(case={|'question|': |'How does the breakfast service work? is it for free?|', |'fact|': |'Your BIO-breakfast basket will be delivered to your door at approximately 8 am the morning after your arrival_ Your basket includes cereals, fresh juice, fresh farm eggs, cold meat, fruit of the season, cheese, butter, milk, herbal tea, drinking chocolate & homemade jam_ Order your bread and refillss for the following day before 11am online  in my_oha_at_ Most of the products are from the local farmer´s market_ Please be sure to visit so you can take some of their fresh products home with you_ The breakfast is NOT free_|'})' nodeId='7' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:55:04.194' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'How does the breakfast service work? is it for free?|', |'fact|': |'Your BIO-breakfast basket will be delivered to your door at approximately 8 am the morning after your arrival_ Your basket includes cereals, fresh juice, fresh farm eggs, cold meat, fruit of the season, cheese, butter, milk, herbal tea, drinking chocolate & homemade jam_ Order your bread and refillss for the following day before 11am online  in my_oha_at_ Most of the products are from the local farmer´s market_ Please be sure to visit so you can take some of their fresh products home with you_ The breakfast is NOT free_|'})' nodeId='7' parentNodeId='3']
2024-10-17 10:55:05,494 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:55:21,094 - test_MultiAgent - DEBUG - Question: What are the opening hours of the reception?
2024-10-17 10:55:21,095 - test_MultiAgent - DEBUG - Fact: Opening hours: daily 8am to midday and 3pm to 5pm. Call any time between 8am and 9pm Reception
2024-10-17 10:55:21,095 - test_MultiAgent - DEBUG - Answer: According to the DOCUMENT, the Reception Opening hours are:

* Daily: 8am to midday and 3pm to 5pm
* Call any time between 8am and 9pm: Reception, Ph. 0043 (0) 664 123 30 87
2024-10-17 10:55:21,095 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:55:21.095' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'What are the opening hours of the reception?|', |'fact|': |'Opening hours: daily 8am to midday and 3pm to 5pm_ Call any time between 8am and 9pm Reception|'})' nodeId='8' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:55:21.095' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'What are the opening hours of the reception?|', |'fact|': |'Opening hours: daily 8am to midday and 3pm to 5pm_ Call any time between 8am and 9pm Reception|'})' nodeId='8' parentNodeId='3']
2024-10-17 10:55:22,352 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:55:45,325 - test_MultiAgent - DEBUG - Question: Search if dogs are allowed and if yes, what are the costs and multiply them by 6.
2024-10-17 10:55:45,325 - test_MultiAgent - DEBUG - Fact: Dogs are allowed. For the final cleaning 35 is charged. 35 times 6 is 210
2024-10-17 10:55:45,325 - test_MultiAgent - DEBUG - Answer: According to the DOCUMENT, dogs are allowed, but with some restrictions:

* "We kindly request that dogs do not enter bedrooms and are not allowed on furniture."
* "For the final cleaning we charge € 35,- per dog and stay on your bill."

To answer your question, yes, dogs are allowed. The cost for the final cleaning is € 35,- per dog and stay.

If you multiply this by 6 (assuming 6 dogs), the total cost would be:

€ 35,- x 6 = € 210,-
2024-10-17 10:55:45,325 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:55:45.325' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Search if dogs are allowed and if yes, what are the costs and multiply them by 6_|', |'fact|': |'Dogs are allowed_ For the final cleaning 35 is charged_ 35 times 6 is 210|'})' nodeId='9' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:55:45.327' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Search if dogs are allowed and if yes, what are the costs and multiply them by 6_|', |'fact|': |'Dogs are allowed_ For the final cleaning 35 is charged_ 35 times 6 is 210|'})' nodeId='9' parentNodeId='3']
2024-10-17 10:55:46,619 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:56:04,279 - test_MultiAgent - DEBUG - Question: What are the checkin and checkout times?
2024-10-17 10:56:04,279 - test_MultiAgent - DEBUG - Fact: Check is from 3 to 5pm and checkout from 8 to 10 am
2024-10-17 10:56:04,279 - test_MultiAgent - DEBUG - Answer: According to the DOCUMENT, the check-in time is between 3-5pm and the check-out time is between 8am-10am.
2024-10-17 10:56:04,279 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:56:04.279' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'What are the checkin and checkout times?|', |'fact|': |'Check is from 3 to 5pm and checkout from 8 to 10 am|'})' nodeId='10' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:56:04.279' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'What are the checkin and checkout times?|', |'fact|': |'Check is from 3 to 5pm and checkout from 8 to 10 am|'})' nodeId='10' parentNodeId='3']
2024-10-17 10:56:05,609 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:56:24,286 - test_MultiAgent - DEBUG - Question: Where can i go bowling?
2024-10-17 10:56:24,286 - test_MultiAgent - DEBUG - Fact: One can go bowling in restaurant Schwungradl in Pfarrwerfen
2024-10-17 10:56:24,286 - test_MultiAgent - DEBUG - Answer: You can experience the Austrian form of bowling in restaurant Schwungradl in Pfarrwerfen, Ph. 0043 (0) 64687979.
2024-10-17 10:56:24,286 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:56:24.286' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Where can i go bowling?|', |'fact|': |'One can go bowling in restaurant Schwungradl in Pfarrwerfen|'})' nodeId='11' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:56:24.286' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Where can i go bowling?|', |'fact|': |'One can go bowling in restaurant Schwungradl in Pfarrwerfen|'})' nodeId='11' parentNodeId='3']
2024-10-17 10:56:25,596 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:56:51,177 - test_MultiAgent - DEBUG - Question: Which doctor is reachable on Wednesday?
2024-10-17 10:56:51,177 - test_MultiAgent - DEBUG - Fact: Dr.med.univ. Manfred Geringer or  Dr. Christoph Fürthauer or Dr.med.univ. Othmar Frühmann or Dr. Kay Drabeck is reachable on wednesday
2024-10-17 10:56:51,177 - test_MultiAgent - DEBUG - Answer: According to the DOCUMENT, Dr. Christoph Fürthauer (Pfarrwerfen) is reachable on Monday and Wednesday from 7:30am - 11am and 5pm - 6pm. Additionally, Dr. Kay Drabeck (Werfen) is reachable on Tuesday, Thursday, and Friday from 15:00 to 19:00.

So, the doctors that are reachable on Wednesday are:

* Dr. Christoph Fürthauer (Pfarrwerfen)
* Dr. med. univ. Manfred Geringer (Werfen), but only during his office hours which are not specified as "Wednesday" specifically, but rather "Monday 8am - 11am Tuesday to Thursday 8am - 11am and 1pm - 4pm or Wednesday 1pm - 4pm".
2024-10-17 10:56:51,177 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:56:51.177' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Which doctor is reachable on Wednesday?|', |'fact|': |'Dr_med_univ_ Manfred Geringer or  Dr_ Christoph Fürthauer or Dr_med_univ_ Othmar Frühmann or Dr_ Kay Drabeck is reachable on wednesday|'})' nodeId='12' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:56:51.177' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Which doctor is reachable on Wednesday?|', |'fact|': |'Dr_med_univ_ Manfred Geringer or  Dr_ Christoph Fürthauer or Dr_med_univ_ Othmar Frühmann or Dr_ Kay Drabeck is reachable on wednesday|'})' nodeId='12' parentNodeId='3']
2024-10-17 10:56:52,380 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:57:31,299 - test_MultiAgent - DEBUG - Question: Recommend me some things to do
2024-10-17 10:57:31,299 - test_MultiAgent - DEBUG - Fact: One could go into a sauna, eat dinner from Restaurant Chili, visit the Farmers Market, go to the gold course, visit a hairdresser, go hiking, go paragliding, get a massage, visit the Moutain Huts, visit Restaurants.
            
2024-10-17 10:57:31,299 - test_MultiAgent - DEBUG - Answer: Based on the DOCUMENT, here are some activities and services that you might enjoy:

1. **Golf**: As a guest of Wood Ridge, you're entitled to cheaper green fees at the Open Golf course in St Johann, located just 15 minutes away.
2. **Hiking**: Guided hiking tours are available, and you can inquire and register at the tourist info. For High Alpine Tours, please contact the Sport Store "Alpin".
3. **Paragliding**: Take a tandem flight with Sepp & Stefan Rebernig (Ph. 0043 (0) 664 4420 002 or 0043 (0) 664 3562 468).
4. **Massages**: Treat yourself to a massage, which can be conducted directly in your chalet. Order a time slot online at myoha.
5. **Mountain Huts**: Visit one of the many mountain huts in the area, such as Alpengasthof Bischlinghöhe (Ph. 0043 (0) 664 5123785), Anton-Proksch-Haus (Ph. 0043 (0) 6466 673), or Auszeit (Ph. 0043 (0) 650 2200480).
6. **Restaurants**: Try one of the many restaurants in the area, such as Almstüberl zan Hascht (Ph. 0043 (0) 6466 20090), Chili im Wenghof (Ph. 0043 (0) 6466 20051), or Restaurant Alpenzeit (Gaultmillau) (Ph. 0043 (0) 6466 391504).
7. **Petrol Station**: If you need to refuel, there's a petrol station located about 6 km away.

Remember to check the opening hours and availability for each activity before heading out!
2024-10-17 10:57:31,299 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:57:31.299' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Recommend me some things to do|', |'fact|': |'One could go into a sauna, eat dinner from Restaurant Chili, visit the Farmers Market, go to the gold course, visit a hairdresser, go hiking, go paragliding, get a massage, visit the Moutain Huts, visit Restaurants_\n            |'})' nodeId='13' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:57:31.299' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Recommend me some things to do|', |'fact|': |'One could go into a sauna, eat dinner from Restaurant Chili, visit the Farmers Market, go to the gold course, visit a hairdresser, go hiking, go paragliding, get a massage, visit the Moutain Huts, visit Restaurants_\n            |'})' nodeId='13' parentNodeId='3']
2024-10-17 10:57:32,614 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:58:09,525 - test_MultiAgent - DEBUG - Question: I want to go on a date night. Any recommendations?
2024-10-17 10:58:09,525 - test_MultiAgent - DEBUG - Fact: There is no swimming pool.
2024-10-17 10:58:09,525 - test_MultiAgent - DEBUG - Answer: A date night sounds like a lovely idea!

According to the DOCUMENT, I found some restaurant suggestions that might interest you:

1. Almstüberl zan Hascht - closed on Wednesdays and Thursdays
2. Auszeit top station of the Rosnerköpfl - no specific closing days mentioned
3. Chili im Wenghof - no specific closing days mentioned
4. Gasthof Barbarahof - no specific closing days mentioned
5. Gasthof Schöntal - no specific closing days mentioned
6. Gasthof Strassreith - no specific closing days mentioned
7. Gasthof Tennenblick - no specific closing days mentioned
8. Restaurant Alpenzeit (Gaultmillau) - closed on Sundays and Mondays
9. Restaurant Eulersberg - closed on Mondays
10. Seealmstüberl - next to the lake, no specific closing days mentioned
11. Stoa Alm (Burger and Snack and Bar) - no specific closing days mentioned
12. Strussingalm on the mountain - no specific closing days mentioned
13. Wenger Alpenhof - no specific closing days mentioned
14. Werfenwenger Bauernladen - closed on Thursdays and Sundays

Please note that some of these restaurants might have specific closing days or hours, so it's always a good idea to call ahead and confirm before planning your date night.

Additionally, you might want to consider activities like paragliding in Werfenweng (Tandem flights / Flight school: Sepp & Stefan Rebernig, Ph. 0043 (0) 664 4420 002 or 0043 (0) 664 3562 468 Fly Tandem, Ph. 0043 (0) 650 8263361), guided hiking tours (Ph. 0043 (0) 6466 420), or horse and carriage rides (Steiger Simon, Ph. 0043 (0) 6466 682 or 0043 (0) 664 5852319).

I hope this helps you plan a lovely date night!
2024-10-17 10:58:09,525 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:58:09.525' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'I want to go on a date night_ Any recommendations?|', |'fact|': |'There is no swimming pool_|'})' nodeId='14' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:58:09.525' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'I want to go on a date night_ Any recommendations?|', |'fact|': |'There is no swimming pool_|'})' nodeId='14' parentNodeId='3']
2024-10-17 10:58:10,791 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:58:30,890 - test_MultiAgent - DEBUG - Question: Which doctor is also available on Wednesday if Dr. Christoph Fürthauer has closed?
2024-10-17 10:58:30,890 - test_MultiAgent - DEBUG - Fact: Dr.med.univ. Manfred Geringer or Dr.med.univ. Othmar Frühmann or Dr. Kay Drabeck is also available on Wendesday
2024-10-17 10:58:30,890 - test_MultiAgent - DEBUG - Answer: According to the DOCUMENT, if you need a doctor's appointment on Wednesday when Dr. Christoph Fürthauer (Pfarrwerfen) is not available, you can visit Dr. Manfred Geringer in Werfen, who is available from 1pm-4pm on Wednesdays.
2024-10-17 10:58:30,890 - test_MultiAgent - DEBUG - Verdict: TRUE
##teamcity[testStarted timestamp='2024-10-17T10:58:30.891' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Which doctor is also available on Wednesday if Dr_ Christoph Fürthauer has closed?|', |'fact|': |'Dr_med_univ_ Manfred Geringer or Dr_med_univ_ Othmar Frühmann or Dr_ Kay Drabeck is also available on Wendesday|'})' nodeId='15' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:58:30.891' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'Which doctor is also available on Wednesday if Dr_ Christoph Fürthauer has closed?|', |'fact|': |'Dr_med_univ_ Manfred Geringer or Dr_med_univ_ Othmar Frühmann or Dr_ Kay Drabeck is also available on Wendesday|'})' nodeId='15' parentNodeId='3']
2024-10-17 10:58:32,179 - flashrank.Ranker - DEBUG - Running pairwise ranking..
2024-10-17 10:58:51,164 - test_MultiAgent - DEBUG - Question: What is the phone number of Dr. Manfred Geringer in Werfen?
2024-10-17 10:58:51,164 - test_MultiAgent - DEBUG - Fact: Phone number is 0043 (0) 6468 8283 0
2024-10-17 10:58:51,164 - test_MultiAgent - DEBUG - Answer: According to the DOCUMENT, the phone number of Dr. med. univ. Manfred Geringer in Werfen is 0043 (0) 6468 8283 0.
2024-10-17 10:58:51,164 - test_MultiAgent - DEBUG - Verdict: TRUE


Ran 1 test in 324.905s

FAILED (errors=2)
##teamcity[testStarted timestamp='2024-10-17T10:58:51.164' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'What is the phone number of Dr_ Manfred Geringer in Werfen?|', |'fact|': |'Phone number is 0043 (0) 6468 8283 0|'})' nodeId='16' parentNodeId='3']
##teamcity[testFinished timestamp='2024-10-17T10:58:51.164' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability.' name='(case={|'question|': |'What is the phone number of Dr_ Manfred Geringer in Werfen?|', |'fact|': |'Phone number is 0043 (0) 6468 8283 0|'})' nodeId='16' parentNodeId='3']
##teamcity[testFailed timestamp='2024-10-17T10:58:51.166' details='Failed subtests list: (case={|'question|': |'How does the breakfast work?|', |'fact|': |'The BIO-breakfast basket will be delivered to the door at approximately 8 am the morning after your arrival_ |'}), (case={|'question|': |'How does the breakfast service work? is it for free?|', |'fact|': |'Your BIO-breakfast basket will be delivered to your door at approximately 8 am the morning after your arrival_ Your basket includes cereals, fresh juice, fresh farm eggs, cold meat, fruit of the season, cheese, butter, milk, herbal tea, drinking chocolate & homemade jam_ Order your bread and refillss for the following day before 11am online  in my_oha_at_ Most of the products are from the local farmer´s market_ Please be sure to visit so you can take some of their fresh products home with you_ The breakfast is NOT free_|'})' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' message='One or more subtests failed' name='test_multiple_question_answer_ability' nodeId='3' parentNodeId='2']
##teamcity[testFinished timestamp='2024-10-17T10:58:51.166' duration='324905' locationHint='python<C:\Users\alexp\PycharmProjects\RAG-enhanced-local-LLM\tests>://test_MultiAgent.TestVectorDatabase.test_multiple_question_answer_ability' name='test_multiple_question_answer_ability' nodeId='3' parentNodeId='2']
##teamcity[testSuiteFinished timestamp='2024-10-17T10:58:51.166' name='test_MultiAgent.TestVectorDatabase' nodeId='2' parentNodeId='1']
##teamcity[testSuiteFinished timestamp='2024-10-17T10:58:51.166' name='test_MultiAgent' nodeId='1' parentNodeId='0']
